# BTRFS Filesystem Support
# For Linux kernel 6.12.x

# Core BTRFS options
CONFIG_BTRFS_FS=y
CONFIG_BTRFS_FS_POSIX_ACL=y
CONFIG_BTRFS_FS_CHECK_INTEGRITY=y

# Disable debug/test options to reduce size
CONFIG_BTRFS_FS_RUN_SANITY_TESTS=n
CONFIG_BTRFS_DEBUG=n
CONFIG_BTRFS_ASSERT=n

# Required crypto components
CONFIG_CRC32C=y
CONFIG_LIBCRC32C=y
CONFIG_CRYPTO_CRC32C=y

# Compression algorithm support
CONFIG_ZLIB_INFLATE=y
CONFIG_ZLIB_DEFLATE=y
CONFIG_LZO_COMPRESS=y
CONFIG_LZO_DECOMPRESS=y
CONFIG_ZSTD_COMPRESS=y
CONFIG_ZSTD_DECOMPRESS=y

# Required for RAID functionality in BTRFS
CONFIG_RAID6_PQ=y
CONFIG_XOR_BLOCKS=y

# File and directory operations
CONFIG_FS_POSIX_ACL=y
CONFIG_EXPORTFS=y
CONFIG_FILE_LOCKING=y

# Required for proper functioning
CONFIG_BLOCK=y
CONFIG_SMP=y

# Enable direct I/O support
CONFIG_DIRECT_IO=y